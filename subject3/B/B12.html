<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input id="img-input" type="file" accept="image/*">
    <div class="preview"></div> 
    <button data-filter="grayscale(100%)">흑백</button>
    <button data-filter="sepia(100%)">세피아</button>
    <button data-filter="invert(100%)">반전</button>
    <button data-filter="none">원본</button>

    <div class="preview"></div>

    <script>
        const input = document.getElementById("img-input");

        let currentImg = null;

        input.addEventListener("change", (e) => {
            const file = e.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.readAsDataURL(file);

            reader.onload = () => {
                document.querySelector(".preview").innerHTML = `<img id="preview-img" src="${reader.result}">`;
                currentImg = document.getElementById("preview-img");
            };
        });

        document.addEventListener("click", (e) => {
            if (!e.target.dataset.filter) return;
            if (!currentImg) return;

            currentImg.style.filter = e.target.dataset.filter;
        });
    </script>
</body>
</html>